name = "collects-app"
main = "src/worker.ts"
compatibility_date = "2025-09-15"

[[routes]]
pattern = "collects.lqxclqxc.com"
custom_domain = true

[assets]
directory = "./dist"
binding = "ASSETS"
run_worker_first = [ "/api/*", "/auth/*" ]

[[kv_namespaces]]
binding = "TOKEN_KV"
id = "production-kv-namespace-id" # Replace with your production KV namespace ID

[env.staging]
name = "collects-app-staging"

[[env.staging.routes]]
pattern = "staging.collects.lqxclqxc.com"
custom_domain = true

[[env.staging.kv_namespaces]]
binding = "TOKEN_KV"
id = "staging-kv-namespace-id" # Replace with your staging KV namespace ID
